{"version":3,"file":"index.js","mappings":"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,WAEhC,CAER,CAAC;IAEd,CAAC,CAAC,GAEF7E,oDAAA,YAAIT,mDAAE,CAAC,mBAAmB,EAAE,qBAAqB,CAAK,CAGzD,CAAC,EAEL0B,UAAU,CAACC,WAAW,KAAK,UAAU,IAAID,UAAU,CAACO,UAAU,IAAIW,OAAO,IACtEnC,oDAAA;MAAQmB,IAAI,EAAC,QAAQ;MAAC0D,SAAS,EAAC,6BAA6B;MAACkC,OAAO,EAAElD;IAAgB,GAClFtE,mDAAE,CAAC,WAAW,EAAE,qBAAqB,CAClC,CAEX,CAAC,CACT;EACL,CAAC;EAEDyH,IAAI,EAAE,SAAAA,CAAA,EAAW;IACb,OAAO,IAAI,CAAC,CAAC;EACjB;AACJ,CAAC,CAAC;;;;;;;;;;;ACvTF;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WClBA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://brightlocal-reviews/./src/index.js","webpack://brightlocal-reviews/./src/style.scss?75bd","webpack://brightlocal-reviews/external window [\"wp\",\"apiFetch\"]","webpack://brightlocal-reviews/external window [\"wp\",\"blockEditor\"]","webpack://brightlocal-reviews/external window [\"wp\",\"blocks\"]","webpack://brightlocal-reviews/external window [\"wp\",\"components\"]","webpack://brightlocal-reviews/external window [\"wp\",\"coreData\"]","webpack://brightlocal-reviews/external window [\"wp\",\"data\"]","webpack://brightlocal-reviews/external window [\"wp\",\"element\"]","webpack://brightlocal-reviews/external window [\"wp\",\"i18n\"]","webpack://brightlocal-reviews/external window \"React\"","webpack://brightlocal-reviews/webpack/bootstrap","webpack://brightlocal-reviews/webpack/runtime/chunk loaded","webpack://brightlocal-reviews/webpack/runtime/compat get default export","webpack://brightlocal-reviews/webpack/runtime/define property getters","webpack://brightlocal-reviews/webpack/runtime/global","webpack://brightlocal-reviews/webpack/runtime/hasOwnProperty shorthand","webpack://brightlocal-reviews/webpack/runtime/make namespace object","webpack://brightlocal-reviews/webpack/runtime/publicPath","webpack://brightlocal-reviews/webpack/runtime/jsonp chunk loading","webpack://brightlocal-reviews/webpack/before-startup","webpack://brightlocal-reviews/webpack/startup","webpack://brightlocal-reviews/webpack/after-startup"],"sourcesContent":["import './style.scss';\nimport { registerBlockType } from '@wordpress/blocks';\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\nimport { PanelBody, SelectControl, ToggleControl, RangeControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport apiFetch from '@wordpress/api-fetch';\nimport { useState, useEffect } from '@wordpress/element';\n\n// ADD_BRIGHTLOCAL_ICON_START\n// BrightLocal brand icon (PNG)\nimport BrightlocalPNG from '../assets/brightlocal.png';\n\nconst BrightlocalIcon = (\n    <img\n        src={ BrightlocalPNG }\n        alt=\"BrightLocal\"\n        style={{ width: 24, height: 24 }}\n    />\n);\n// ADD_BRIGHTLOCAL_ICON_END\n\n// Source icons mapping\nconst sourceIcons = {\n    google: 'https://www.google.com/favicon.ico',\n    facebook: 'https://www.facebook.com/favicon.ico',\n    yelp: 'https://www.yelp.com/favicon.ico',\n    tripadvisor: 'https://www.tripadvisor.com/favicon.ico',\n    brightlocal: 'https://www.brightlocal.com/favicon.ico',\n    yahoo: 'https://www.yahoo.com/favicon.ico',\n    default: 'https://www.brightlocal.com/favicon.ico'\n};\n\nregisterBlockType('brightlocal-reviews/reviews', {\n    title: __('BrightLocal Reviews', 'brightlocal-reviews'),\n    icon: BrightlocalIcon,\n    category: 'widgets',\n    attributes: {\n        displayType: {\n            type: 'string',\n            default: 'grid'\n        },\n        showAuthor: {\n            type: 'boolean',\n            default: true\n        },\n        showDate: {\n            type: 'boolean',\n            default: true\n        },\n        showSource: {\n            type: 'boolean',\n            default: true\n        },\n        reviewLabel: {\n            type: 'string',\n            default: 'all'\n        },\n        limitItems: {\n            type: 'boolean',\n            default: false\n        },\n        itemsPerPage: {\n            type: 'number',\n            default: 3\n        },\n        showArrows: {\n            type: 'boolean',\n            default: true\n        }\n    },\n\n    edit: function(props) {\n        const { attributes, setAttributes } = props;\n        const blockProps = useBlockProps();\n\n        // Local state for editor pagination mimic\n        const [editorReviews, setEditorReviews] = useState([]);\n        const [currentPage, setCurrentPage] = useState(1);\n        const [hasMore, setHasMore] = useState(true);\n\n        // Fetch available review labels\n        const labels = useSelect((select) => {\n            return select(coreStore).getEntityRecords('taxonomy', 'bl_review_label', {\n                per_page: -1,\n                _fields: ['id', 'name', 'slug']\n            });\n        }, []);\n\n        const reviews = useSelect((select) => {\n            const { getEntityRecords } = select(coreStore);\n\n            // Prepare base query\n            const query = {\n                post_type: 'bl-reviews',\n                per_page: attributes.limitItems ? attributes.itemsPerPage : 100,\n                _embed: true,\n                context: 'edit',\n                _fields: ['id', 'title', 'content', 'date', 'meta']\n            };\n\n            // Convert selected label slug to term ID (REST API expects IDs)\n            if (attributes.reviewLabel && attributes.reviewLabel !== 'all') {\n                const allLabels = getEntityRecords('taxonomy', 'bl_review_label', {\n                    per_page: -1,\n                    _fields: ['id', 'slug']\n                });\n\n                if (allLabels) {\n                    const matched = allLabels.find((l) => l.slug === attributes.reviewLabel);\n                    if (matched) {\n                        query['bl_review_label'] = matched.id; // Pass ID, not slug\n                    }\n                }\n            }\n\n            return getEntityRecords('postType', 'bl-reviews', query);\n        }, [attributes.reviewLabel, attributes.limitItems, attributes.itemsPerPage]);\n\n        const isLoading = useSelect((select) => {\n            return select(coreStore).isResolving('postType', 'bl-reviews');\n        }, []);\n\n        if (isLoading) {\n            return <div {...blockProps}>{__('Loading reviews...', 'brightlocal-reviews')}</div>;\n        }\n\n        // Sync initial fetched reviews into local state whenever source reviews change\n        useEffect(() => {\n            setEditorReviews(reviews || []);\n            setCurrentPage(1);\n            setHasMore(true);\n        }, [reviews, attributes.limitItems, attributes.itemsPerPage]);\n\n        // Prepare label options for the dropdown\n        const labelOptions = [\n            { label: __('All Reviews', 'brightlocal-reviews'), value: 'all' }\n        ];\n\n        if (labels) {\n            labels.forEach(label => {\n                labelOptions.push({\n                    label: label.name,\n                    value: label.slug\n                });\n            });\n        }\n\n        const loadMoreReviews = () => {\n            // Build REST query for next page\n            const nextPage = currentPage + 1;\n            const perPage = attributes.itemsPerPage;\n\n            let path = `/wp/v2/bl-reviews?per_page=${perPage}&page=${nextPage}&context=edit&_embed=true`;\n\n            // Handle label filter\n            if (attributes.reviewLabel && attributes.reviewLabel !== 'all') {\n                path += `&bl_review_label=${encodeURIComponent(attributes.reviewLabel)}`;\n            }\n\n            apiFetch({ path }).then((moreReviews) => {\n                if (moreReviews && moreReviews.length > 0) {\n                    setEditorReviews([...editorReviews, ...moreReviews]);\n                    setCurrentPage(nextPage);\n                    if (moreReviews.length < perPage) {\n                        setHasMore(false);\n                    }\n                } else {\n                    setHasMore(false);\n                }\n            }).catch(() => {\n                setHasMore(false);\n            });\n        };\n\n        const wrapperClass = `bl-reviews-wrapper bl-reviews-${attributes.displayType} ${attributes.displayType === 'carousel' ? 'bl-editor-preview' : ''}`;\n\n        return [\n            <InspectorControls>\n                <PanelBody title={__('Display Settings', 'brightlocal-reviews')}>\n                    <SelectControl\n                        label={__('Review Group', 'brightlocal-reviews')}\n                        value={attributes.reviewLabel}\n                        options={labelOptions}\n                        onChange={(value) => setAttributes({ reviewLabel: value })}\n                    />\n                    <SelectControl\n                        label={__('Display Type', 'brightlocal-reviews')}\n                        value={attributes.displayType}\n                        options={[\n                            { label: __('Grid', 'brightlocal-reviews'), value: 'grid' },\n                            { label: __('List', 'brightlocal-reviews'), value: 'list' },\n                            { label: __('Carousel', 'brightlocal-reviews'), value: 'carousel' } \n                        ]}\n                        onChange={(value) => setAttributes({ displayType: value })}\n                    />\n                    <ToggleControl\n                        label={__('Show Author', 'brightlocal-reviews')}\n                        checked={attributes.showAuthor}\n                        onChange={(value) => setAttributes({ showAuthor: value })}\n                    />\n                    <ToggleControl\n                        label={__('Show Date', 'brightlocal-reviews')}\n                        checked={attributes.showDate}\n                        onChange={(value) => setAttributes({ showDate: value })}\n                    />\n                    <ToggleControl\n                        label={__('Show Source', 'brightlocal-reviews')}\n                        checked={attributes.showSource}\n                        onChange={(value) => setAttributes({ showSource: value })}\n                    />\n                    <ToggleControl\n                        label={__('Limit Reviews', 'brightlocal-reviews')}\n                        checked={attributes.limitItems}\n                        onChange={(value) => setAttributes({ limitItems: value })}\n                    />\n                    {attributes.displayType === 'carousel' && (\n                        <ToggleControl\n                            label={__('Show Navigation Arrows', 'brightlocal-reviews')}\n                            checked={attributes.showArrows}\n                            onChange={(value) => setAttributes({ showArrows: value })}\n                        />\n                    )}\n                    {attributes.limitItems && (\n                        <RangeControl\n                            label={__('Reviews per page', 'brightlocal-reviews')}\n                            value={attributes.itemsPerPage}\n                            min={3}\n                            max={30}\n                            step={1}\n                            onChange={(value) => setAttributes({ itemsPerPage: value })}\n                        />\n                    )}\n                </PanelBody>\n            </InspectorControls>,\n            <div {...blockProps}>\n                <div className={wrapperClass}>\n                    { (attributes.limitItems ? editorReviews : reviews) && (attributes.limitItems ? editorReviews : reviews).length > 0 ? (\n                        (attributes.limitItems ? editorReviews : reviews).map((review, idx) => {\n                            const rating = review.meta?._bl_rating || 0;\n                            const source = review.meta?._bl_source || '';\n                            const reviewTitle = review.meta?._bl_title || '';\n                            const reviewDate = review.meta?._bl_date || review.date;\n                            const sourceLower = source.toLowerCase();\n                            const sourceIcon = sourceIcons[sourceLower] || sourceIcons.default;\n                            const contentLength = review.content.rendered.replace(/<[^>]*>/g, '').length;\n                            const needsReadMore = contentLength > 200;\n\n                            const reviewItemClass = `bl-review-item ${attributes.displayType === 'carousel' && idx === 0 ? 'active' : ''}`;\n\n                            return (\n                                <div key={review.id} className={reviewItemClass}>\n                                    <div className=\"bl-review-header\">\n                                        <div className=\"bl-review-rating\">\n                                            {[...Array(5)].map((_, i) => (\n                                                <span key={i} className={`star ${i < rating ? 'filled' : ''}`}>â˜…</span>\n                                            ))}\n                                        </div>\n                                        \n                                        <div className=\"bl-review-meta-right\">\n                                            {attributes.showDate && reviewDate && (\n                                                <span className=\"bl-review-date\">\n                                                    {new Date(reviewDate).toLocaleDateString()}\n                                                </span>\n                                            )}\n                                            \n                                            {attributes.showSource && source && (\n                                                <span className=\"bl-review-source\">\n                                                    <img src={sourceIcon} alt={source} />\n                                                    {source.charAt(0).toUpperCase() + source.slice(1)}\n                                                </span>\n                                            )}\n                                        </div>\n                                    </div>\n                                    \n                                    {attributes.showAuthor && review.title.rendered && (\n                                        <div className=\"bl-review-author\">\n                                            {review.title.rendered}\n                                        </div>\n                                    )}\n                                    \n                                    <div className={`bl-review-content ${needsReadMore ? 'collapsed' : ''}`}\n                                         dangerouslySetInnerHTML={{ __html: review.content.rendered }} />\n                                    \n                                    {needsReadMore && (\n                                        <div className=\"bl-review-read-more\">\n                                            Read More\n                                        </div>\n                                    )}\n                                </div>\n                            );\n                        })\n                    ) : (\n                        <p>{__('No reviews found.', 'brightlocal-reviews')}</p>\n                    )}\n\n                </div>\n\n                {attributes.displayType !== 'carousel' && attributes.limitItems && hasMore && (\n                    <button type=\"button\" className=\"bl-reviews-load-more-editor\" onClick={loadMoreReviews}>\n                        {__('Load More', 'brightlocal-reviews')}\n                    </button>\n                )}\n            </div>\n        ];\n    },\n\n    save: function() {\n        return null; // Dynamic block, render handled by PHP\n    }\n}); ","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkbrightlocal_reviews\"] = globalThis[\"webpackChunkbrightlocal_reviews\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["registerBlockType","InspectorControls","useBlockProps","PanelBody","SelectControl","ToggleControl","RangeControl","__","useSelect","store","coreStore","apiFetch","useState","useEffect","BrightlocalPNG","BrightlocalIcon","createElement","src","alt","style","width","height","sourceIcons","google","facebook","yelp","tripadvisor","brightlocal","yahoo","default","title","icon","category","attributes","displayType","type","showAuthor","showDate","showSource","reviewLabel","limitItems","itemsPerPage","showArrows","edit","props","setAttributes","blockProps","editorReviews","setEditorReviews","currentPage","setCurrentPage","hasMore","setHasMore","labels","select","getEntityRecords","per_page","_fields","reviews","query","post_type","_embed","context","allLabels","matched","find","l","slug","id","isLoading","isResolving","labelOptions","label","value","forEach","push","name","loadMoreReviews","nextPage","perPage","path","encodeURIComponent","then","moreReviews","length","catch","wrapperClass","options","onChange","checked","min","max","step","className","map","review","idx","rating","meta","_bl_rating","source","_bl_source","reviewTitle","_bl_title","reviewDate","_bl_date","date","sourceLower","toLowerCase","sourceIcon","contentLength","content","rendered","replace","needsReadMore","reviewItemClass","key","Array","_","i","Date","toLocaleDateString","charAt","toUpperCase","slice","dangerouslySetInnerHTML","__html","onClick","save"],"sourceRoot":""}